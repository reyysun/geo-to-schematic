![Geo to Schematic logo](https://github.com/reyysun/geo-to-schematic/blob/main/images/btestylelogo.png "BTE Schematic Converter logo")
# Geo to Schematic
* Сonvert KML and Geojson files with geodata into Minecraft schematic files. Geometry elements in the schematic will be placed according to the BuildTheEarth projection.
* Конвертируйте KML и Geojson файлы с геоданными в Minecraft schematic-файлы. Геометрические объекты в схематике будут размещены по проекции BuildTheEarth.
## About
* The converter supports geographic data files in ".kml" and ".geojson" formats.
* The output is a schematic file with the ".schem" extension (Sponge Schematic v3).
* You can specify the block type used for converted objects, as well as a vertical offset for the entire schematic.
## Compatibility
* The converter can handle most KML and GeoJSON files generated by popular software and online converters (tested with Google Earth Pro and QGIS).
* Input files can contain LineString, Polygon, and Point geometries. MultiGeometry containers are also supported for KML.
* If an object includes elevation data, the converter places it one block below that height in the schematic — e.g., elevation 5 will be Y=4 (so that the F3 menu shows the correct height when standing on it).
* If no elevation is found, the object is placed at height 0 (Y = -1).
* The "Y Offset" value is added to the height of all objects. For example, if an object is at height 5 and "Y Offset" is -3, it will be placed at height 2 (Y = -1).
## Инфо
* Конвертер поддерживает файлы географических данных формата ".kml" и ".geojson".
* Выходной файл - схематик с расширением ".schem" (Sponge schematic v3).
* Вы можете указать, из какого блока будут сделаны сконвертированные объекты, а также вертикальный сдвиг всего схематика.
## Совместимость
* Конвертер должен понимать большинство kml и geojson файлов, генерируемых как известными программами, так и онлайн конверторами (протестированы Google Earth Pro и QGis).
* Входной файл может содержать геометрические объекты LineString (линия), Polygon (полигон) и Point (точка). Также поддерживается объект-контейнер MultiGeometry для KML.
* Объекты в файле могут иметь параметр высоты. Если у объекта есть высота, то конвертер расположит его в схематике на 1 уровень ниже указанной высоты - например, если объект на высоте 5, то в схематике он будет на Y=4 (чтобы в игре, стоя на них, в F3 отображалась нужная высота).
* Если же у объекта не найдена высота, то в схематике он будет расположен на высоте 0 (Y=-1).
* Также к высоте всех объектов в схематике прибавляется число, которое вы указали в "Y Offset". Если объект находится на высоте 5, а в "Y Offset" написано значение "-3", то объект будет на высоте 2 (Y=-1).
## Credits
Credits to [TerraSketch](https://github.com/Codestian/TerraSketch) for the logic of converting an array of coordinates into a schematic. Use TerraSketch for outlining in BTE projection!
## Modules used
1. [@bte-germany/terraconvert](https://github.com/Nachwahl/terraconvert) - for converting from latlng to minecraft coordinates
2. [prismarine-nbt](https://github.com/PrismarineJS/prismarine-nbt) - for writing NBT data
3. [browserify](https://browserify.org/) - to compile node.js modules for the browser
## How to build
This project uses [Browserify](https://browserify.org/) to convert `converter.js` into a browser-ready `ultraconverter.js`, which is used by `index.html`. You can look up for ultraconverter in gh-pages branch, but it's 38k lines long, so there's no need to edit that file manually — instead, make changes in `converter.js`, then bundle it using Browserify. Here's how:
1. Clone the main repository
```
git clone https://github.com/reyysun/geo-to-schematic
cd geo-to-schematic
```
2. Install dependencies
```
npm install
```
3. Build the browser bundle
```
npm run build
```
This will run `browserify converter.js -o ultraconverter.js` and build ultraconverter.js.
Then you can run `index.html` on localhost.